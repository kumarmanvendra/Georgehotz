FROM ubuntu:20.04-slim

WORKDIR /app

RUN apt-get update && \
       apt-get install -y python3.8 python3-pip  && \
       rm -rf /var/lib/apt/lists/*

RUN git clone https://github.com/tinygrad/tinygrad.git

WORKDIR /app/tinygrad

RUN pip install -e '.[testing]' --extra-index-url https://download.pytorch.org/whl/cpu
